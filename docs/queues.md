Краткий конспект статьи https://habr.com/ru/companies/avito/articles/655553/

### Варианты связей между сервисами
1. Опубликовать файл с данными
2. Загрузить данные в единую базу
3. Использовать механизм удалённого вызова процедур
4. Отправить асинхронное сообщение через общую шину данных

### Паттерны асинхронных обменов сообщениями (практически что и виды связей в СУБД)
1. Между двумя сервисами
2. От многих отправителей
3. Для многих получателей
4. Для нескольких получателей в одном сервисе
5. Для двустороннего обмена через очереди

### Варианты обработки сообщений consumer'ами:
1. ACK (Acknowledge — подтверждение)
2. NACK (Negative Acknowledge)
3. DEFER (Отложить)
4. DLQ (Dead Letter Queue)
   
### Способы и результаты обработки невалидных сообщений
1. Структурная невалидность (в каком-то поле сообщения число, а там будет строка)
2. Логическая невалидность (нужно оплатить заказ, а в системе он уже помечен как оплаченный. )
   1. Остановить работу сервиса - отправляем NACK и ждем повторения, если само не решиться будет образовываться ком
   2. Пропустить сообщение (игнорим и пишем в лог)
   3. Отправить сообщение в очередь для повторной обработки (механизм отложенных очередей)
   4. Отправить сообщение в очередь для недоставленных сообщений (DLQ) - лог мертвых сообщений


